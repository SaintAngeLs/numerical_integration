Funkcja testująca moduł programu 'doubletrap' odpowiadający za zastowowanie złożonego wzoru trapezów ze względu na każdą zmienną oraz moduł 'transformed_function' odpowiadający za zastowosania przekształcenia 2 ( x(u, v) = u .* sqrt(1 - v.^2 ./ (2 * r.^2)); y(u, v)  =  v .* sqrt(1 - u.^2 ./ (2 * r.^2))), ma na celu ocenę własności zbieżności rzędu złożonej metody trapezów stosowanej do przybliżania podwójnych całek po zastosowanym przekształceniu.
Jako funkcję testową wybrano następujące funkcje:
f(x, y) = x^2 + y^2, f(x, y) = exp(-x.^2-y.^2), wartośći całkek podwójnych, obliczonych analitycznie przy użyciu współżędnych biegónowych, z których dla przedziałów całkowania [-1, 1] oraz [-1, 1] odpowiednio dla pierwszej i dla drugiej zmiennej wynoszą 0, oraz pi*(1-exp(-1)) odpowiednio.
Test zaczyna się od 10 podziałów i sukcesywnie podwaja ich liczbę. Celem jest sprawdzenie, jak szybko błąd przybliżenia całki podwójnej maleje wraz ze zwiększaniem liczby podziałów przedziału całkowania. Metoda trapezów jest metodą drugiego rzędu, co oznacza, że błąd powinien teoretycznie zmniejszać się proporcjonalnie do kwadratu długości kroku siatki (h^2).
Wartość rate (wartość rzędu metody) jest obliczana jako logarytm przy podstawie 2 z ilorazu dwóch kolejnych błędów. Jeśli metoda ma rząd k, to przy podwojeniu liczby podziałów (zwiększeniu rozdzielczości siatki) błąd powinien teoretycznie zmniejszyć się 2^k razy.
